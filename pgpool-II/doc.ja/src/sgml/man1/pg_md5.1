'\" t
.\"     Title: pg_md5
.\"    Author: The Pgpool Global Development Group
.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
.\"      Date: 2021
.\"    Manual: Pgpool-II 4.2.5 文書
.\"    Source: Pgpool-II 4.2.5
.\"  Language: Japanese
.\"
.TH "PG_MD5" "1" "2021" "Pgpool-II 4.2.5" "Pgpool-II 4.2.5 文書"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "名前"
pg_md5 \- md5 暗号化したパスワードを生成する
.SH "概要"
.HP \w'\fBpg_md5\fR\ 'u
\fBpg_md5\fR [\fIoption\fR...] \fI\-p\fR
.HP \w'\fBpg_md5\fR\ 'u
\fBpg_md5\fR [\fIoption\fR...] \fIpassword\fR
.SH "説明"
.PP
\fBpg_md5\fR
md5 暗号化したパスワードを生成します。
.SH "オプション"
.PP
.PP
\fB\-p\fR
.br
\fB\-\-prompt\fR
.RS 4
パスワードを引数に渡したくない場合は
\fBpg_md5 \-p\fR
を実行すると標準入力からパスワードを読み込みます。
.RE
.PP
\fB\-m\fR
.br
\fB\-\-md5auth\fR
.RS 4
pool_passwd
認証ファイルに
md5
認証パスワードを生成します。
.RE
.PP
\fB\-u \fR\fB\fIyour_username\fR\fR
.br
\fB\-\-username=\fR\fB\fIyour_username\fR\fR
.RS 4
md5 認証パスワードを生成する際、pool_passwd
に
your_username
の md5 認証のエントリが登録されます。
.RE
.PP
\fB\-f \fR\fB\fIconfig_file\fR\fR
.br
\fB\-\-config\-file=\fR\fB\fIconfig_file\fR\fR
.RS 4
設定ファイル
pgpool\&.confへのパスを指定します。
.RE
.PP
\fB\-i \fR\fB\fIINPUT_FILE\fR\fR
.br
\fB\-\-input\-file=\fR\fB\fIINPUT_FILE\fR\fR
.RS 4
ユーザ名とパスワードのペアを含むファイルを指定します。
.RE
.SH "例"
.PP
以下は
pcp\&.conf
に登録する
md5
暗号化されたパスワードを生成する例です。
.sp
.if n \{\
.RS 4
.\}
.nf
    $ pg_md5 \-p
    password: [your password]
   
.fi
.if n \{\
.RE
.\}
.PP
または
.sp
.if n \{\
.RS 4
.\}
.nf
   $ pg_md5 [your password]
   acbd18db4cc2f85cedef654fccc4a4d8
  
.fi
.if n \{\
.RE
.\}
.PP
また、\fBpg_md5\fR
は、pool_passwd
に ユーザー名とmd5
暗号化されたパスワードのエントリを生成するためにも使用できます。
.sp
.if n \{\
.RS 4
.\}
.nf
     $ pg_md5 \-m \-f /path/to/pgpool\&.conf \-u username \-p
     password: [your password]

     $ cat /path/to/pool_passwd 
     username:md55a231fcdb710d73268c4f44283487ba2
    
.fi
.if n \{\
.RE
.\}
.sp
パスワードの入力が促されたりコマンド引数の中でパスワードを指定するのを避けたい場合はpg_md5は名前:パスワードのペアをファイルから読むことができます。 すべてのユーザ名と暗号化されたパスワードがpool_passwd認証ファイルに追加されます。
.sp
.if n \{\
.RS 4
.\}
.nf
     $ cat users\&.txt
     username1:secretpassword1
     username2:secretpassword1

     $ pg_md5 \-m \-f /path/to/pgpool\&.conf \-i users\&.txt
     trying to read username:password pairs from file users\&.txt

     $ cat /path/to/pool_passwd
     username1:md533314126ba0b187df1e37f5ce6a489a8
     username2:md58ae92c6e1d6a48d80e2583fe715e2b36
    
.fi
.if n \{\
.RE
.\}
.sp
pool_passwd
にエントリを登録せず、md5ハッシュされた文字列だけを表示させるには、引数としてパスワードとユーザ名を連結した文字列を渡します。 例として、パスワードに"password"、ユーザ名に"user"を渡す例を示します。
.sp
.if n \{\
.RS 4
.\}
.nf
      $ pg_md5 passworduser
      4d45974e13472b5a0be3533de4666414
     
.fi
.if n \{\
.RE
.\}
.sp
実際にpool_passwdに登録するエントリは、先頭に"md5"を挿入してください。つまり、"md54d45974e13472b5a0be3533de4666414"となることに注意してください。
